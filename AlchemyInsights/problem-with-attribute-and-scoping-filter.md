---
title: Проблема с атрибутом и фильтром областей
ms.author: v-smandalika
author: v-smandalika
manager: dansimp
ms.date: 02/19/2021
audience: Admin
ms.topic: article
ms.service: o365-administration
ROBOTS: NOINDEX, NOFOLLOW
localization_priority: Priority
ms.collection: Adm_O365
ms.custom:
- "8470"
- "9004687"
ms.openlocfilehash: 51ed0fabe220d0069d721ec64d049787bacd5b094e19f0c1996a28e07bb56f03
ms.sourcegitcommit: b5f7da89a650d2915dc652449623c78be6247175
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/05/2021
ms.locfileid: "53960200"
---
# <a name="problem-with-attribute-and-scoping-filter"></a>Проблема с атрибутом и фильтром областей

**Проблема с конфликтующими значениями UPN**

Подготовка пользователя из Workday в AD. При подготовке пользователя из Workday в AD отображается сообщение об ошибке **HybridSynchronizationActiveDirectoryUserPrincipalNameNotUnique**. Не удалось выполнить операцию, так как значение имени участника-пользователя, предоставленное для добавления или изменения, не является уникальным в пределах леса. Сведения об ошибке: **CONSTRAINT_ATT_TYPE - userPrincipalName**.

Значение **userPrincipalName**, которое соединитель Workday пытается установить при создании учетной записи пользователя AD, уже существует в целевом домене AD. Это означает, что (1) пользователь уже существует и не пройдена проверка совпадающего ИД для этого пользователя или (2) правило создания UPN сгенерировало конфликтующее значение.

Предложенные действия по решению:

Если пользователь уже существует и при проверке совпадающего ИД не удалось связать учетную запись Workday с учетной записью Active Directory, проверьте, одинаковы ли атрибуты совпадающих ИД (обычно **employeeID**) в Workday и AD. Если они разные, проблема связана с данными и ее требуется устранить. Например, если EmployeeID в Workday имеет значение 001052, а в AD — 1052, значит подсистема подготовки не сможет связать две учетные записи и попытается создать пользователя, который уже существует. В этом случае решением является изменение значения **EmployeeID** в AD путем добавления нулей в начале с получением значения 001052.
Если выражение, создающее UPN, не создает уникальное значение, рассмотрите возможность использования функции дедупликации **SelectUniqueValue**, чтобы каждый раз создавать уникальное значение.

**Подготовка пользователя из Workday в AD не задает значение атрибута manager для учетной записи пользователя AD**

Задание подготовки пользователя из Workday в AD не задает значение атрибута **manager** для учетных записей пользователей AD. Существует два возможных сценария, когда встречается такое поведение:

1. Не удается сопоставить руководителя в Workday с соответствующей учетной записью пользователя AD, так как руководитель не входит в область применения.
2. В сценарии **нескольких доменов AD** руководитель в Workday и пользователь находятся в разных доменах.

Попробуйте сделать следующее, чтобы устранить эту проблему:

1. Если вы определили фильтры области применения, сначала проверьте, находится ли руководитель в области и удовлетворяет ли он предложению определения области. Если руководитель не удовлетворяет фильтру определения области, измените фильтр так, чтобы руководитель также находился в области применения операции подготовки.
2. Если у вас несколько доменов AD, у соединителя есть известное ограничение, связанное с невозможностью сопоставлять связи руководителей между доменами.

Дополнительные сведения о настройке Workday для автоматической подготовки см. в статье [Руководство по настройке Workday для автоматической подготовки пользователей](https://docs.microsoft.com/azure/active-directory/saas-apps/workday-inbound-tutorial).













